webpackJsonp([1],{"+4kk":function(e,n){},"8q9E":function(e,n){},NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s={};t.d(s,"messages",function(){return g}),t.d(s,"channels",function(){return x});var a=t("7+uW"),r={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var c=t("VU/8")({name:"App"},r,!1,function(e){t("V1Sh")},null,null).exports,o=t("/ocq"),u=t("Dd8w"),i=t.n(u),l=t("NYxO"),m={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ul",e._l(e.messages,function(n){return t("li",[t("el-row",[t("el-col",{attrs:{span:3}}),t("el-col",{attrs:{span:21}},[t("el-row",[t("el-col",{attrs:{span:3}},[t("div",{staticClass:"grid-content name"},[e._v(e._s(n.user.name))])]),t("el-col",{attrs:{span:21}},[t("div",{staticClass:"grid-content date"},[e._v(e._s(n.date))])])],1),t("el-row",[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"grid-content message"},[e._v(e._s(n.body))])])],1)],1)],1)],1)}))},staticRenderFns:[]};var p=t("VU/8")({name:"message-list",props:["messages"]},m,!1,function(e){t("8q9E")},"data-v-1cf10569",null).exports,f={name:"chat",mounted:function(){this.GET_CHANNELS(),this.GET_MESSAGES(this.$route.params.cname)},computed:i()({},Object(l.c)(["messages","channels"])),components:{"message-list":p},methods:i()({},Object(l.b)(["GET_CHANNELS","GET_MESSAGES","POST_MESSAGES"]),{send_message:function(){this.POST_MESSAGES({cname:this.$route.params.cname,message:this.message}),this.message=""}}),data:function(){return{message:""}}},d={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-container",[t("el-aside",[t("ul",e._l(e.channels,function(n){return t("li",[t("router-link",{attrs:{to:{name:"channel",params:{cname:n}}}},[e._v(e._s(n))])],1)}))]),t("el-container",[t("el-header",[e._v(e._s(e.$route.params.cname))]),t("el-main",[t("message-list",{attrs:{messages:e.messages}})],1),t("el-footer",[t("el-input",{attrs:{type:"text"},model:{value:e.message,callback:function(n){e.message=n},expression:"message"}}),t("el-button",{on:{click:e.send_message}},[e._v("SEND")])],1)],1)],1)},staticRenderFns:[]};var h=t("VU/8")(f,d,!1,function(e){t("+4kk")},"data-v-b9384722",null).exports;a.default.use(o.a);var S,v,E,_=new o.a({mode:"history",routes:[{path:"/channel/:cname",name:"channel",component:h}]}),g=function(e){return e.messages.reverse()},x=function(e){return e.channels},A=t("bOdI"),G=t.n(A),w=(S={},G()(S,"SET_MESSAGES",function(e,n){e.messages=n}),G()(S,"GET_CHANNELS",function(e,n){e.channels=n}),S),T=t("mvHQ"),b=t.n(T),k=t("Xxa5"),N=t.n(k),M=t("exGp"),j=t.n(M),y=(E=j()(N.a.mark(function e(n){var t,s;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(O(n));case 2:return t=e.sent,e.next=5,t.json();case 5:return s=e.sent,e.abrupt("return",s.messages);case 7:case"end":return e.stop()}},e,this)})),function(e){return E.apply(this,arguments)}),C="https://us-central1-frontend-sample-c9ef5.cloudfunctions.net/v1",O=function(e){return C+"/channels/"+e+"/messages"},H=(v={},G()(v,"GET_CHANNELS",function(e){var n,t=(n=j()(N.a.mark(function e(){var n,t;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(C+"/channels");case 2:return n=e.sent,e.next=5,n.json();case 5:t=e.sent,s("GET_CHANNELS",t.channels);case 7:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)}),s=e.commit;t()}),G()(v,"GET_MESSAGES",function(e,n){var t=this,s=e.commit;return j()(N.a.mark(function e(){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(n);case 2:a=e.sent,s("SET_MESSAGES",a);case 4:case"end":return e.stop()}},e,t)}))()}),G()(v,"POST_MESSAGES",function(e,n){var t=this,s=e.commit,a=n.cname,r=n.message;return j()(N.a.mark(function e(){var n,c;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(O(a),{method:"POST",body:b()({body:r}),headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:if("ok"!==e.sent.result){e.next=11;break}return e.next=9,y(a);case 9:c=e.sent,s("SET_MESSAGES",c);case 11:case"end":return e.stop()}},e,t)}))()}),v);a.default.use(l.a);var L=new l.a.Store({state:{messages:[],channels:[]},mutations:w,getters:s,actions:H}),$=(t("tvR6"),t("zL8q")),P=t.n($),R=t("znjY"),V=t.n(R);a.default.use(P.a,{locale:V.a}),a.default.config.productionTip=!1,new a.default({el:"#app",router:_,components:{App:c},template:"<App/>",store:L})},V1Sh:function(e,n){},tvR6:function(e,n){}},["NHnr"]);
//# sourceMappingURL=app.726fb2f0550943e0bcef.js.map